# Echo Command In Linux Shell Scripting

## What is Echo Command?
- echo command in linux is used to display lines of text/string that are passed as an argument. 
- echo command is one of the most basic and frequently used commands in Linux. The arguments passed to echo are printed to the standard output.
- echo is commonly used in shell scripts to display a message or output the results of other commands.

## Echo command syntax
```
echo [option] [string]
```
**\n = newline**

```sh
echo -e 'Hello, World! \nHello Tia\nI hope you are doing well'
```
Use the `-e` option to enable the interpretation of the escape characters.

**RESULT:**
```
Hello, World!
Hello Tia
I hope you are doing well
```

**\t = horizontal tab**
```sh
echo -e "List of fruits:\nOrange \t\t\tBanana \t\t\tApple \t\t\tAvocado"
```
**RESULT:**
```
Orange          Banana                  Apple                   Avocado
```
```sh
echo -e "List of fruits:\n\t- Orange\n\t- Banana \n\t- Apple \n\t- Avocado"
```
**RESULT:**
```
List of fruits:
        - Orange
        - Banana
        - Apple
        - Avocado
```

## There are a few points to consider when using the echo command.
1. Displaying output of a command
Use the `$(command)` expression to include the command output in the echo's argument.
```sh
echo "The kernel version is: `uname -r`"
echo "This system is a `getconf LONG_BIT` bit OS"
echo "The default shell is: `echo $SHELL`"
```
**RESULT:**
```
The kernel version is: 3.10.0-957.el7.x86_64
This system is a 64 bit OS
The default shell is: /bin/bash
```

2. Displaying variables
echo can also display variables. To access the value stored in a variable, prefix its name with the dollar sign `$`

```sh
KERNEL=`uname -r`
VERSION=`getconf LONG_BIT`
OS_DISTRO=`cat /etc/*release |grep -i centos |tail -1 |awk '{print$1}'`
```
```sh
echo "The kernel version is: $KERNEL"
echo "This system is a $VERSION bit OS"
echo "The OS distribution is $OS_DISTRO"
```

**RESULT:**
```
The kernel version is: 3.10.0-957.el7.x86_64
This system is a 64 bit OS
The OS distribution is CentOS
```

**vim test.sh**
```sh
#!/bin/bash
KERNEL=`uname -r`
VERSION=`getconf LONG_BIT`
OS_DISTRO=`cat /etc/*release |grep -i centos |tail -1 |awk '{print$1}'`

echo "The kernel version is: $KERNEL"
echo "This system is a $VERSION bit OS"
echo "The OS distribution is $OS_DISTRO"
```
**RESULT:**
```
The kernel version is: 3.10.0-957.el7.x86_64
This system is a 64 bit OS
The OS distribution is CentOS
```

3. Redirect to a file
Instead of displaying the output on the screen, you can redirect it to a file using the >, >> operators.
```sh
echo -e 'The only true wisdom is in knowing you know nothing.\nSocrates' >> /tmp/file.txt
```
```
cat /tmp/file.txt
```
**RESULT:**
```
The only true wisdom is in knowing you know nothing.
Socrates
```

## Exit code or return code or exit status
- It is a bit number generated by the system after each process or command.
- It is a numerical value returned by every command upon its completion. 
- By default, when the exit code is `0`, it means the previous run command was successful. If it is not `0`, it means the command failed. 

**NB1:** The exit code can be changed while writing the script. We can set a specific value while writing the script in case of failure so that the script will not generate random number from `0-255`

**NB2:** The codes that the system generates are between `0-255`

## How to get the exit code of a command?
To get the exit code of a command, type `echo $?` at the command prompt.
```
cat file.txt
hello world
echo $?
0
```
The command was successful. The file exists and there are no errors in reading the file or writing it to the terminal. The exit code is therefore `0`.

***In the following example the file does not exist.***
```
cat doesnotexist.txt
cat: doesnotexist.txt: No such file or directory
echo $?
1
```
The exit code is 1 as the operation was not successful.

## How to use exit codes in scripts or how to set an exit code?
To use exit codes in scripts an if statement can be used to see if an operation was successful.

**EXAMPLE 1:**
```sh
#!/bin/bash
 
useradd peter 
 
if [ $? -eq 0 ]
then
  echo "The script ran ok"
else
  echo "The script failed" 
fi
```

**EXAMPLE 2:**
```sh
#!/bin/bash
 
useradd tom 
 
if [ $? -eq 0 ]
then
  echo "The script ran ok"
  exit 5
else
  echo "The script failed"
  exit 10 
fi
```
**NB:** we do not want the script to generate a random number in case of failure.


**RESULT:**
```
[root@localhost tia]# ./test.sh
The script ran ok
[root@localhost tia]# echo $?
5
[root@localhost tia]# ./test.sh
useradd: user 'tom' already exists
The script failed
[root@localhost tia]# echo $?
10
[root@localhost tia]#
```

### Printing multiple lines as once
**EXAMPLE 1:**
```sh
#!/bin/sh
cat << EOF
This is a simple lookup program 
for good (and bad) restaurants
in Cape Town.
EOF
```

**EXAMPLE 2:**
```sh
#!/bin/sh
echo ""
echo  '/------------------------------------------------------------------------\'
echo "|                    **** Warning ***                                    |"
echo "| This computer system is the private property of  DevOps Easy Learning  |"
echo "| It is for authorized use only.                                         |"
echo "|                                                                        |"
echo "| Unauthorized or improper use of this system may result in civil and    |"
echo "| criminal penalties and administrative or disciplinary action,as        |"
echo "| appropriate. By continuing to use this system you indicate your        |"
echo "| awareness of and consent to these terms and conditions of use. LOG OFF |"
echo "| IMMEDIATELY if you do not agree to the conditions stated in this       |"
echo "| warning!!!!!                                                           |"
echo '\------------------------------------------------------------------------/'
```

**EXAMPLE 3:**
```
vim /etc/profile
source /etc/profile
```
```sh
#!/bin/bash
cat << END
      *=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*==*=*
      *                    **** Warning ***                                      *
      *  This computer system is the private property of DevOps Easy Learning    *
      *  It is for authorized use only.                                          *
      *                                                                          *
      *  Unauthorized or improper use of this system may result in civil and     *
      *  criminal penalties and administrative or disciplinary action, as        *
      *  appropriate. By continuing to use this system you indicate your         *
      *  awareness of and consent to these terms and conditions of use. LOG OFF  *
      *  IMMEDIATELY if you do not agree to the conditions stated in this        *
      *  warning!!!!!                                                            *
      *=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*==*=*
END
```